programa TP2Ej3_Equipos
procesos
  proceso juntarFlores(ES flores: numero)
  comenzar
    mientras HayFlorEnLaEsquina
      tomarFlor
      flores:=flores+1
  fin
  proceso juntarPapeles(ES papeles: numero)
  comenzar
    mientras HayPapelEnLaEsquina
      tomarPapel
      papeles:=papeles+1
  fin
  proceso recorridoFlores (ES flores: numero)
  comenzar
    flores:=0
    repetir (9)
      juntarFlores(flores)
      mover
  fin
  proceso recorridoPapeles (ES papeles: numero)
  comenzar
    papeles:=0
    repetir (9)
      juntarPapeles(papeles)
      mover
  fin
areas
  calle1_1: AreaP (1,1,10,1) 
  calle1_2: AreaP (11,1,20,1) 
  calle5_1: AreaP (1,5,10,5)
  calle5_2: AreaP (11,5,20,5)
robots
  robot juntadorFlores1
  variables
    cant:numero
  comenzar
    derecha 
    recorridoFlores(cant)
    EnviarMensaje(cant,robotB2)
  fin
  robot juntadorFlores2
  variables
    cant,total:numero
  comenzar
    derecha
    RecibirMensaje(cant,robotB1)
    total:=cant
    recorridoFlores(cant)
    total:=total+cant
    Informar(total)
  fin
  robot juntadorPapeles1
  variables
    cant:numero
  comenzar
    derecha
    recorridoPapeles(cant)
    EnviarMensaje(cant,robotA2)
  fin
  robot juntadorPapeles2
  variables
    cant,total:numero
  comenzar
    derecha
    RecibirMensaje(cant,robotA1)
    total:=cant
    recorridoPapeles(cant)
    total:=total+cant
    Informar(total)
  fin
variables
  robotA1:juntadorPapeles1
  robotA2:juntadorPapeles2
  robotB1:juntadorFlores1
  robotB2:juntadorFlores2
comenzar
  AsignarArea(robotA1,calle1_1)
  AsignarArea(robotA2,calle1_2)
  AsignarArea(robotB1,calle5_1)
  AsignarArea(robotB2,calle5_2)
  Iniciar(robotA1,1,1)
  Iniciar(robotA2,11,1)
  Iniciar(robotB1,1,5)
  Iniciar(robotB2,11,5)
fin
